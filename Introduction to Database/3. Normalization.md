### Normalization
- Data Normalization
  - Relations should be normalized in order to avoid anomalies which may occur when inserting, updating and deleting data
  - Normalization is a **systematic series of steps** for progressively refining the data model
  - A formal approach to analyzing relations based on their primary key (or candidate keys) and functional dependencies
- Problems with sample data
  - Entities might have **entry errors**
  - Table has **redundant data**
  - Relations that contain redundant information may potentially suffer from several update anomalies
    - Types of update anomalies include:
      - Insert Anomaly
      - Delete Anomaly
      - Modification (or update) Anomaly
- The Normalization Process Goals
  - Creating valid relations, i.e. each relation meets the properties of the relational model. In particular:
    - Entity integrity
    - Referential integrity
    - No many-to-many relationship
    - Each cell contains a single value (is atomic)
  - In practical terms when implemented in an RDBMS
    - Each table represents a single subject
    - No data item will be unnecessarily stored in more than one table
    - The relationship betweeen tables can be established (pair of PK and FK is identified)
    - Each table is void of insert, update and delte anomalies
- Representing a form as a relation
  - This process follows a standard approach
    - arrive at a name for the form which indicates what it represents (its subjective)
    - determine if any attribute is multivalued (repeating) **for a given entity instance of the forms subject**
      - if an attribute (or set of attributes) appears multiple times then the group of related attributes need to be shown enclosed in brackets to indicate there are multiple sets of these values for each instance
- Functional Dependency
  - For a **composite** PRIMARY KEY, it's possible to have FULL or PARTIAL dependency
  - FULL DEPENDENCY
    - occurs when an attribute is always dependent on all attributes in the composite PK
  - Lack of full dependency for multiple attribute key = PARTIAL DEPENDENCY
  - TRANSITIVE DEPENDECY
    - occurs when Y depends on X, and Z depends on Y - thus Z also depends on X
    - and Y is not a candidate key (or part of a candidate key)
  - Dependencies are depicted with the help of a Dependency Diagram
  - Normalization converts a relation into relations of progressively smaller number of attributes and tuples until an optimum level of decomposition is reached - little or no data redundancy exists
  - The output from normalization is a set of relations that meet all conditions set in the relational model principles
- Unormalized Form (UNF)
  - The UNF representation of a relation is the representation which you have mapped from your inspection of the form
    - it is a **single** named representation (name is not pluralized)
    - no PK etc have as yet been identified
- First Normal Form
  - First Normal Form (part of formal definition of a relation)
    - A relation is in FIRST NORMAL FORM (1NF) if:
      - a unique primary key has been identified for each tuple/row
      - it is a valid relation
        - Entity integrity (no part of PK is null)
        - Single value for each cell i.e. no repeating group (multivalued attribute)
      - all attributes are functionally dependent on all or part of the primary key
- UNF to 1NF
  - Move from UNF to 1NF by:
    - identify a unique identifier for the repeating group
    - remove any repeating group along with the PK of the main relation
    - The PK of the new relation resulting from the removal of repeating group will normally have a composite PK made up of the PK of the main relation and the unique identifier chosen in 1. above, but this **must be checked**
- 1NF to 2NF
  - A relation is in 2NF if:
    - all non key attributes are functionally dependent on the primary key (simple definition)
      - used by the textbook in examples
    - all non key attributes are functionally dependent on **any candidate key** (general definition)
- 2NF to 3NF
  - A relation is in 3NF if:
    - all transitive dependencies have been removed
      - check for non key attribute dependent on another non key attribute
    - move from 2NF to 3NF by removing transitive dependencies
- Summary
  - Represent form as presented, no interpretation, to yield starting point (UNF)
  - Functional dependency
  - Process of removing attributes in relations based on the concept of 1NF, 2NF and 3NF
    - UNF to 1NF define PK & remove repeating group
    - 1NF to 2NF remove partial dependency
    - 2NF to 3NF remove transitive dependency
